function SortFilterPageResults(n){var i;$.blockUI({message:null});var r=$("#hotelName").val(),u=GetNumericValue($("#sortType").val()),f=GetNumericValue($("#minRating").val()),e=GetNumericValue($("#maxRating").val()),o=GetNumericValue($("#minCost").val()),t=[];$("input:checkbox[name=stars]:checked").each(function(){var n=GetNumericValue($(this).val());t.push(n)});i={pageIndex:n,sortType:u,name:r,stars:t,minUserRating:f,maxUserRating:e,minCost:o};$.ajax({type:"POST",url:"/Hotels/Results",data:JSON.stringify(i),dataType:"html",contentType:"application/json; charset=utf-8",success:function(n){$("div#hotelResults").html(n)},error:function(){$.unblockUI();$("div#hotelResults").html("Search failed.")}})}function GetNumericValue(n){return $.isNumeric(n)?Number(n):0}$(function(){$(document).ajaxStop($.unblockUI);$("#sortType").on("change",function(){SortFilterPageResults(1)});$("#hotelName").on("input",function(){SortFilterPageResults(1)});$(":checkbox").on("change",function(){SortFilterPageResults(1)});$("#minRating").on("input",function(){var n=$("#minRating").val();($.isNumeric(n)||n==="")&&SortFilterPageResults(1)});$("#maxRating").on("input",function(){var n=$("#maxRating").val();($.isNumeric(n)||n==="")&&SortFilterPageResults(1)});$("#minCost").on("input",function(){var n=$("#minCost").val();(n.length>=2&&$.isNumeric(n)||n==="")&&SortFilterPageResults(1)})});